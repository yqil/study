<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="react+sass的绑定手机demo">
    <meta name="keywords" content="react+sass的绑定手机demo">
    <meta name="format-detection" content="telephone=no,address=no,email=no">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="apple-itunes-app" content="app-id=" />
    <link rel="apple-touar-icon" sizes="114x114" href="" />
    <title>绑定手机</title>
    <!-- 自定义样式 start -->
    <!-- <link href="css/index.css" rel="stylesheet"> -->
    <!-- 自定义样式 end -->
</head>
<body>
    <div id="bind_wrapper"></div>
    
    <script src="./res/reactjs/react.js"></script>
    <script src="./res/reactjs/react-dom.js"></script>
    <script src="./res/reactjs/browser.min.js"></script>
    <script type="text/babel">
        
        var bw = {
            width: '100%',
            fontFamily: '黑体',
            fontSize: '18px'
        };
        var cs = {
            marginLeft: '12px',
            marginRight: '12px',
            marginTop: '24px',
            height: '44px',
            lineHeight: '44px',
            borderBottom: '1px solid #ebebeb'
        };
        var css = {
            display: 'inline-block',
            height: '44px',
            lineHeight: '44px',
            width: '50%',
            float: 'left'
        }
        var css2 = {
            display: 'inline-block',
            height: '44px',
            lineHeight: '44px',
            width: '50%',
            float: 'left',
            textAlign: 'right'
        }
        var ts = {
            marginLeft: '12px',
            marginRight: '12px',
            height: '44px',
            lineHeight: '44px',
            borderBottom: '1px solid #ebebeb'
        }
        var tss = {
            display: 'inline-block',
            height: '44px',
            lineHeight: '44px',
            width: '20%',
            textAlign: 'right'
        };
        var tsi = {
            height: '42px',
            lineHeight: '42px',
            border: '0',
            marginBottom: '1px',
            fontSize: '18px',
            marginLeft: '22px'
        };
        var vcs = {
            marginLeft: '12px',
            marginRight: '12px',
            height: '44px',
            lineHeight: '44px',
            borderBottom: '1px solid #ebebeb',
            position: 'relative'
        };
        var vcsp = {
            margin: '0',
            position: 'absolute',
            top: '1px',
            right: '0',
            backgroundColor: '#8c8c8c',
            color: '#fff',
            height: '42px',
            lineHeight: '42px',
            paddingLeft: '12px',
            paddingRight: '12px',
            WebkitBorderRadius: '5px',
            mozBorderRadius: '5px',
            borderRadius: '5px'
        };
        var bs = {
            margin: '36px 32px 0 32px',
            height: '44px',
            lineHeight: '44px',
            textAlign: 'center',
            WebkitBorderRadius: '5px',
            mozBorderRadius: '5px',
            borderRadius: '5px'
        };
        var bsi = {
            display: 'block',
            width: '100%',
            backgroundColor: '#8c8c8c',
            color: '#fff',
            fontSize: '22px',
            height: '44px',
            lineHeight: '44px',
            textAlign: 'center'
        };

        var Input = React.createClass({
            getInitialState: function() {
              return {
                tel: "",
                validCode: ""
              };
            },
            changeTel: function(event) {
                var telVal = event.target.value;
                this.setState({tel: telVal});
                var reg = /(1[3-9]\d{9}$)/;
                if(reg.test(telVal) && !this.state.validCode){
                    var validCodeObj = document.getElementById("validCode");
                    validCodeObj.style.backgroundColor = "#19b08f";
                }else if(reg.test(telVal) && this.state.validCode){
                    var submitBtnObj = document.getElementById("submitBtn");
                    submitBtnObj.style.backgroundColor = "#19b08f";
                }
            },
            changeValidCode: function(event){
                var validCodeVal = event.target.value;
                this.setState({validCode: validCodeVal});
                var reg = /(1[3-9]\d{9}$)/;
                if(reg.test(this.state.tel) && validCodeVal){
                    var submitBtnObj = document.getElementById("submitBtn");
                    submitBtnObj.style.backgroundColor = "#19b08f";
                }
            },
            bindUser: function(event){
                var reg = /(1[3-9]\d{9}$)/;
                if(reg.test(this.state.tel) && this.state.validCode){
                    alert("绑定用户");
                }
            },
            render: function () {
                return (
                    <div style={bw}>
                        <div style={cs}>
                            <span style={css}>国家/地区</span>
                            <span style={css2}>中国</span>
                        </div>
                        <div style={ts}>
                            <span style={tss}>+86</span>
                            <input style={tsi} type="tel" value={this.state.tel} placeholder="请输入手机号码" onChange={this.changeTel}/>
                        </div>
                        <div style={vcs}>
                            <span style={tss}>验证码</span>
                            <input style={tsi} value={this.state.validCode} type="tel" placeholder="请输入验证码"  onChange={this.changeValidCode}/>
                            <p style={vcsp} id='validCode'>短信验证码</p>
                        </div>
                        <div style={bs}>
                            <input id="submitBtn" style={bsi} type="button" value="绑定手机" onClick={this.bindUser} />
                        </div>
                        
                        
                    </div>
                );
            }
        });
        
        ReactDOM.render(<Input/>, document.getElementById('bind_wrapper'));
    </script>
</body>
</html>
